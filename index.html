<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FeTherapy - Your AI Companion</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#2C2C2C',
primaryDark: '#1A1A1A',
accent: '#D4AF37',
accentLight: '#E6C547',
accent2: '#8B7355',
accent3: '#A0956B',
surface: '#F7F3E9',
surfaceLight: '#FFFFFF',
background: '#FDFCF8',
backgroundLight: '#F7F3E9',
},
animation: {
'float': 'float 6s ease-in-out infinite',
'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
'fade-in': 'fadeIn 0.8s ease-out',
'slide-up': 'slideUp 0.6s ease-out',
'scale-in': 'scaleIn 0.5s ease-out',
'glow': 'glow 2s ease-in-out infinite alternate',
'gradient-shift': 'gradientShift 3s ease-in-out infinite',
'shimmer': 'shimmer 2s linear infinite',
},
keyframes: {
float: {
'0%, 100%': { transform: 'translateY(0px)' },
'50%': { transform: 'translateY(-20px)' },
},
fadeIn: {
'0%': { opacity: '0' },
'100%': { opacity: '1' },
},
slideUp: {
'0%': { opacity: '0', transform: 'translateY(30px)' },
'100%': { opacity: '1', transform: 'translateY(0)' },
},
scaleIn: {
'0%': { opacity: '0', transform: 'scale(0.95)' },
'100%': { opacity: '1', transform: 'scale(1)' },
},
glow: {
'0%': { boxShadow: '0 0 20px rgba(212, 175, 55, 0.3)' },
'100%': { boxShadow: '0 0 40px rgba(212, 175, 55, 0.6)' },
},
gradientShift: {
'0%, 100%': { backgroundPosition: '0% 50%' },
'50%': { backgroundPosition: '100% 50%' },
},
shimmer: {
'0%': { transform: 'translateX(-100%)' },
'100%': { transform: 'translateX(100%)' },
}
}
}
}
}
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap');

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Inter', sans-serif;
background: linear-gradient(135deg, #FDFCF8 0%, #F7F3E9 30%, #F0EBD8 60%, #E8E2C6 100%);
overflow-x: hidden;
}

.dark body {
background: linear-gradient(135deg, #1A1A1A 0%, #2C2C2C 30%, #3A3A3A 60%, #4A4A4A 100%);
}

.gradient-text {
background: linear-gradient(135deg, #2C2C2C 0%, #D4AF37 50%, #8B7355 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 4s ease-in-out infinite;
}

.dark .gradient-text {
background: linear-gradient(135deg, #F7F3E9 0%, #D4AF37 50%, #E6C547 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 4s ease-in-out infinite;
}

.gradient-text-alt {
background: linear-gradient(135deg, #D4AF37 0%, #8B7355 50%, #A0956B 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 3s ease-in-out infinite;
}

.dark .gradient-text-alt {
background: linear-gradient(135deg, #E6C547 0%, #D4AF37 50%, #F7F3E9 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 3s ease-in-out infinite;
}

.hero-text {
font-family: 'Playfair Display', serif;
background: linear-gradient(135deg, #2C2C2C 0%, #1A1A1A 50%, #444444 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 4s ease-in-out infinite;
text-shadow: 0 0 40px rgba(44, 44, 44, 0.1);
}

.dark .hero-text {
background: linear-gradient(135deg, #F7F3E9 0%, #FFFFFF 50%, #E8E2C6 100%);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: gradientShift 4s ease-in-out infinite;
text-shadow: 0 0 40px rgba(247, 243, 233, 0.1);
}

.glass-morphism {
background: rgba(247, 243, 233, 0.8);
backdrop-filter: blur(25px);
border: 1px solid rgba(44, 44, 44, 0.15);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.dark .glass-morphism {
background: rgba(44, 44, 44, 0.3);
backdrop-filter: blur(25px);
border: 1px solid rgba(212, 175, 55, 0.15);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.glass-morphism-strong {
background: rgba(247, 243, 233, 0.9);
backdrop-filter: blur(30px);
border: 1px solid rgba(44, 44, 44, 0.2);
box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.dark .glass-morphism-strong {
background: rgba(44, 44, 44, 0.5);
backdrop-filter: blur(30px);
border: 1px solid rgba(212, 175, 55, 0.2);
box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.particles {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
z-index: 1;
}

.particle {
position: absolute;
background: radial-gradient(circle, rgba(212, 175, 55, 0.6) 0%, rgba(139, 115, 85, 0.3) 50%, transparent 70%);
border-radius: 50%;
animation: float 8s infinite ease-in-out;
}

.loading-spinner {
width: 60px;
height: 60px;
border: 4px solid rgba(212, 175, 55, 0.1);
border-top: 4px solid #D4AF37;
border-radius: 50%;
animation: spin 1s linear infinite;
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.chat-message {
animation: slideUp 0.5s ease-out;
}

.floating-shape {
position: absolute;
opacity: 0.05;
animation: float 12s infinite ease-in-out;
background: linear-gradient(135deg, #2C2C2C 0%, #D4AF37 50%, #8B7355 100%);
}

.dark .floating-shape {
background: linear-gradient(135deg, #D4AF37 0%, #E6C547 50%, #F7F3E9 100%);
}

.floating-shape:nth-child(2) { animation-delay: -2s; }
.floating-shape:nth-child(3) { animation-delay: -4s; }
.floating-shape:nth-child(4) { animation-delay: -6s; }

.neon-glow {
text-shadow: 0 0 10px rgba(212, 175, 55, 0.6), 0 0 20px rgba(212, 175, 55, 0.4), 0 0 30px rgba(212, 175, 55, 0.2);
}

.logo-container {
position: relative;
overflow: hidden;
border-radius: 50%;
background: linear-gradient(135deg, #2C2C2C 0%, #D4AF37 50%, #8B7355 100%);
padding: 2px;
}

.dark .logo-container {
background: linear-gradient(135deg, #D4AF37 0%, #E6C547 50%, #F7F3E9 100%);
}

.logo-inner {
border-radius: 50%;
overflow: hidden;
background: #FDFCF8;
position: relative;
}

.dark .logo-inner {
background: #1A1A1A;
}

.logo-img {
width: 100%;
height: 100%;
object-fit: cover;
object-position: center;
border-radius: 50%;
transition: transform 0.3s ease;
}

.logo-container:hover .logo-img {
transform: scale(1.1);
}

.mobile-optimized {
touch-action: manipulation;
-webkit-tap-highlight-color: transparent;
}

@media (max-width: 768px) {
.particle {
display: none;
}
}

.breathing-circle {
transition: transform 1s cubic-bezier(0.4, 0, 0.6, 1);
}

.mood-grid {
display: grid;
grid-template-columns: repeat(5, 1fr);
gap: 0.75rem;
}

@media (max-width: 640px) {
.mood-grid {
gap: 0.5rem;
}
}

.shimmer-effect {
position: relative;
overflow: hidden;
}

.shimmer-effect::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.2), transparent);
animation: shimmer 2s infinite;
}

.btn-gradient {
background: linear-gradient(135deg, #2C2C2C 0%, #D4AF37 50%, #8B7355 100%);
background-size: 200% 200%;
animation: gradientShift 3s ease-in-out infinite;
position: relative;
overflow: hidden;
}

.btn-gradient::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
transition: left 0.5s;
}

.btn-gradient:hover::before {
left: 100%;
}

.fancy-border {
border: 2px solid transparent;
background: rgba(247, 243, 233, 0.5);
background-clip: padding-box;
position: relative;
}

.dark .fancy-border {
background: rgba(44, 44, 44, 0.3);
}

.fancy-border::before {
content: '';
position: absolute;
inset: 0;
padding: 2px;
background: linear-gradient(135deg, #2C2C2C, #D4AF37, #8B7355);
border-radius: inherit;
mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
mask-composite: exclude;
}

.dark .fancy-border::before {
background: linear-gradient(135deg, #D4AF37, #E6C547, #F7F3E9);
}
</style>
</head>
<body class="bg-background text-primary dark:text-surfaceLight min-h-screen relative mobile-optimized">

<!-- Animated Background -->
<div class="particles">
<div class="particle" style="width: 4px; height: 4px; top: 20%; left: 10%; animation-delay: 0s;"></div>
<div class="particle" style="width: 6px; height: 6px; top: 80%; left: 20%; animation-delay: 2s;"></div>
<div class="particle" style="width: 3px; height: 3px; top: 40%; left: 80%; animation-delay: 4s;"></div>
<div class="particle" style="width: 5px; height: 5px; top: 60%; left: 90%; animation-delay: 6s;"></div>
<div class="particle" style="width: 4px; height: 4px; top: 30%; left: 50%; animation-delay: 8s;"></div>
<div class="particle" style="width: 7px; height: 7px; top: 70%; left: 70%; animation-delay: 10s;"></div>
</div>

<!-- Main App Container -->
<div id="mainApp" class="relative z-10">
<!-- Floating Background Shapes -->
<div class="floating-shape w-32 h-32 rounded-full top-10 left-10"></div>
<div class="floating-shape w-20 h-20 rounded-full top-1/2 right-20"></div>
<div class="floating-shape w-40 h-40 rounded-full bottom-20 left-1/4"></div>

<!-- Header -->
<header class="glass-morphism-strong fixed top-0 left-0 right-0 z-30 p-4 md:p-6">
    <div class="flex items-center justify-between max-w-6xl mx-auto">
        <div class="flex items-center space-x-3">
            <div class="logo-container w-12 h-12 animate-glow">
                <div class="logo-inner w-full h-full">
                    <img src="https://pfst.cf2.poecdn.net/base/image/5920f4633c34d487475a6efbfb47d4ac8739b07cb6d7d7fb348ff825b64c433d?w=335&h=249" 
                         alt="FeTherapy Logo" class="logo-img">
                </div>
            </div>
            <div class="cursor-pointer" id="homeLink">
                <h1 class="text-xl md:text-2xl font-bold gradient-text font-['Playfair_Display'] neon-glow tracking-wide">FeTherapy</h1>
                <p class="text-xs md:text-sm gradient-text-alt font-medium">Your AI Companion</p>
            </div>
        </div>
        <div class="flex items-center space-x-2 md:space-x-3">
            <button id="featuresBtn" class="glass-morphism hover:bg-accent/20 text-accent px-3 md:px-4 py-2 rounded-xl text-sm md:text-base transition-all duration-300 transform hover:scale-105 shimmer-effect font-medium">
                ‚ú® Tools
            </button>
        </div>
    </div>
</header>

<!-- Main Container -->
<div class="max-w-6xl mx-auto flex flex-col min-h-screen pt-20 md:pt-24">
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="flex-1 flex items-center justify-center p-4 md:p-6">
        <div class="text-center max-w-4xl animate-fade-in">
            <div class="relative mb-8">
                <div class="logo-container w-24 md:w-32 h-24 md:h-32 mx-auto animate-float">
                    <div class="logo-inner w-full h-full">
                        <img src="https://pfst.cf2.poecdn.net/base/image/5920f4633c34d487475a6efbfb47d4ac8739b07cb6d7d7fb348ff825b64c433d?w=335&h=249" 
                             alt="FeTherapy Logo" class="logo-img">
                    </div>
                </div>
            </div>
            <h2 class="text-4xl md:text-6xl font-light hero-text mb-4 font-['Playfair_Display'] animate-slide-up tracking-wide">Welcome to <span class="gradient-text font-bold">FeTherapy</span></h2>
            <p class="gradient-text-alt font-semibold mb-6 text-lg md:text-xl animate-slide-up font-['Space_Grotesk'] tracking-wide" style="animation-delay: 0.2s;">Your compassionate AI companion</p>
            <p class="text-gray-700 dark:text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto text-base md:text-lg animate-slide-up font-light" style="animation-delay: 0.4s;">
                A safe, judgment-free space where you can share your thoughts, track your emotions, and find support whenever you need it.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-12">
                <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 animate-scale-in fancy-border" style="animation-delay: 0.6s;">
                    <div class="text-4xl md:text-5xl mb-4 animate-float">üíù</div>
                    <h3 class="gradient-text font-bold mb-3 text-lg md:text-xl font-['Playfair_Display'] tracking-wide">Compassionate Chat</h3>
                    <p class="text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed font-light">Share your thoughts with an AI that truly listens and understands.</p>
                </div>
                <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 animate-scale-in fancy-border" style="animation-delay: 0.8s;">
                    <div class="text-4xl md:text-5xl mb-4 animate-float" style="animation-delay: 2s;">üìà</div>
                    <h3 class="gradient-text font-bold mb-3 text-lg md:text-xl font-['Playfair_Display'] tracking-wide">Mood Insights</h3>
                    <p class="text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed font-light">Track patterns and understand what affects your well-being.</p>
                </div>
                <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 animate-scale-in fancy-border" style="animation-delay: 1s;">
                    <div class="text-4xl md:text-5xl mb-4 animate-float" style="animation-delay: 4s;">üåø</div>
                    <h3 class="gradient-text font-bold mb-3 text-lg md:text-xl font-['Playfair_Display'] tracking-wide">Wellness Tools</h3>
                    <p class="text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed font-light">Breathing exercises, journaling prompts, and coping strategies.</p>
                </div>
            </div>
            
            <button id="startChat" class="btn-gradient text-white font-bold px-8 md:px-12 py-4 md:py-5 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-2xl text-base md:text-lg animate-scale-in font-['Space_Grotesk'] tracking-wide" style="animation-delay: 1.2s;">
                Begin Your Journey ‚ú®
            </button>
        </div>
    </div>

    <!-- Chat Interface -->
    <div id="chatInterface" class="hidden flex-1 flex flex-col">
        <!-- Chat Messages -->
        <div id="chatMessages" class="flex-1 overflow-y-auto p-4 md:p-6 space-y-4 pb-6">
            <!-- Messages will be added here -->
        </div>

        <!-- Chat Input -->
        <div class="glass-morphism-strong p-4 md:p-6 border-t border-accent/20 mx-4 md:mx-6 mb-4 md:mb-6 rounded-2xl fancy-border">
            <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4">
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="Share what's on your heart..." 
                    class="flex-1 bg-surface/50 dark:bg-primary/50 text-primary dark:text-surfaceLight px-4 md:px-6 py-3 md:py-4 rounded-xl border border-accent/20 focus:border-accent/50 focus:outline-none text-base md:text-lg backdrop-blur-sm transition-all duration-300 font-light placeholder-gray-500 dark:placeholder-gray-400"
                    maxlength="500"
                >
                <button 
                    id="sendBtn" 
                    class="btn-gradient text-white px-6 md:px-8 py-3 md:py-4 rounded-xl font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 text-base md:text-lg font-['Space_Grotesk'] tracking-wide"
                >
                    Send ‚ú®
                </button>
            </div>
            <div class="text-xs md:text-sm gradient-text-alt mt-3 text-center font-medium">
                üíù This is your safe space. Everything stays private and confidential.
            </div>
        </div>
    </div>

    <!-- Features Panel -->
    <div id="featuresPanel" class="hidden flex-1 flex flex-col p-4 md:p-6">
        <h2 class="text-3xl md:text-4xl font-light hero-text mb-8 text-center font-['Playfair_Display'] tracking-wide">Wellness Tools</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 max-w-5xl mx-auto">
            <!-- Breathing Exercise -->
            <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 fancy-border">
                <div class="text-4xl md:text-5xl mb-4 animate-float">üå¨Ô∏è</div>
                <h3 class="gradient-text font-bold text-lg md:text-xl mb-3 font-['Playfair_Display'] tracking-wide">Breathing Exercise</h3>
                <p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-6 font-light">Calm your mind with guided breathing techniques</p>
                <button id="breathingBtn" class="glass-morphism hover:bg-accent/30 text-accent px-4 md:px-6 py-3 rounded-xl text-sm md:text-base transition-all duration-300 w-full transform hover:scale-105 font-medium shimmer-effect">
                    Start Breathing üåø
                </button>
            </div>

            <!-- Journal Prompts -->
            <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 fancy-border">
                <div class="text-4xl md:text-5xl mb-4 animate-float" style="animation-delay: 2s;">üìù</div>
                <h3 class="gradient-text font-bold text-lg md:text-xl mb-3 font-['Playfair_Display'] tracking-wide">Journal Prompts</h3>
                <p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-6 font-light">Thoughtful questions to help you reflect</p>
                <button id="journalBtn" class="glass-morphism hover:bg-accent2/30 text-accent2 px-4 md:px-6 py-3 rounded-xl text-sm md:text-base transition-all duration-300 w-full transform hover:scale-105 font-medium shimmer-effect">
                    Get Prompt ‚úçÔ∏è
                </button>
            </div>

            <!-- Crisis Resources -->
            <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-red-500/10 transition-all duration-500 transform hover:scale-105 fancy-border">
                <div class="text-4xl md:text-5xl mb-4">üÜò</div>
                <h3 class="text-red-600 dark:text-red-400 font-bold text-lg md:text-xl mb-3 font-['Playfair_Display'] tracking-wide">Crisis Support</h3>
                <p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-6 font-light">Immediate help when you need it most</p>
                <button id="crisisBtn" class="glass-morphism hover:bg-red-500/30 text-red-600 dark:text-red-400 px-4 md:px-6 py-3 rounded-xl text-sm md:text-base transition-all duration-300 w-full transform hover:scale-105 font-medium shimmer-effect">
                    Get Help Now üö®
                </button>
            </div>

            <!-- Coping Strategies -->
            <div class="glass-morphism-strong p-6 md:p-8 rounded-2xl hover:bg-accent/10 transition-all duration-500 transform hover:scale-105 fancy-border">
                <div class="text-4xl md:text-5xl mb-4 animate-float" style="animation-delay: 4s;">üõ†Ô∏è</div>
                <h3 class="gradient-text font-bold text-lg md:text-xl mb-3 font-['Playfair_Display'] tracking-wide">Coping Tools</h3>
                <p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-6 font-light">Quick strategies for tough moments</p>
                <button id="copingBtn" class="glass-morphism hover:bg-accent2/30 text-accent2 px-4 md:px-6 py-3 rounded-xl text-sm md:text-base transition-all duration-300 w-full transform hover:scale-105 font-medium shimmer-effect">
                    Find Strategy üí™
                </button>
            </div>
        </div>

        <div class="text-center mt-8 md:mt-12">
            <button id="backToChat" class="gradient-text hover:text-accent transition-colors duration-300 text-base md:text-lg font-medium">
                ‚Üê Back to Chat
            </button>
        </div>
    </div>
</div>

</div>

<!-- Breathing Exercise Modal -->
<div id="breathingModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50">
<div class="glass-morphism-strong rounded-2xl p-6 md:p-8 max-w-lg w-full text-center animate-scale-in fancy-border">
<h3 class="text-2xl md:text-3xl font-bold gradient-text mb-8 font-['Playfair_Display'] tracking-wide">Breathing Exercise</h3>
<div id="breathingCircle" class="breathing-circle w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 rounded-full border-4 border-accent/30 flex items-center justify-center bg-gradient-to-r from-accent/10 to-accent2/10">
<div class="w-20 h-20 md:w-28 md:h-28 rounded-full bg-gradient-to-r from-accent/20 to-accent2/20"></div>
</div>
<div id="breathingText" class="text-lg md:text-xl text-gray-700 dark:text-gray-300 mb-8 font-medium gradient-text-alt">Press start to begin</div>
<div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4 justify-center">
<button id="startBreathing" class="btn-gradient text-white px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 font-['Space_Grotesk']">
Start
</button>
<button id="stopBreathing" class="glass-morphism hover:bg-surface/50 dark:hover:bg-primary/50 text-primary dark:text-surfaceLight px-6 py-3 rounded-xl transition-all duration-300 font-medium">
Stop
</button>
<button id="closeBreathingModal" class="glass-morphism hover:bg-surface/50 dark:hover:bg-primary/50 text-primary dark:text-surfaceLight px-6 py-3 rounded-xl transition-all duration-300 font-medium">
Close
</button>
</div>
</div>
</div>

<!-- Crisis Resources Modal -->
<div id="crisisModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50">
<div class="glass-morphism-strong rounded-2xl p-6 md:p-8 max-w-lg w-full animate-scale-in fancy-border">
<h3 class="text-xl md:text-2xl font-bold text-red-600 dark:text-red-400 mb-6 text-center font-['Playfair_Display'] tracking-wide">Crisis Support Resources</h3>
<div class="space-y-4 mb-8">
<div class="glass-morphism p-4 md:p-6 rounded-xl">
<h4 class="gradient-text font-bold mb-2 text-base md:text-lg font-['Space_Grotesk']">üá∫üá∏ US Crisis Text Line</h4>
<p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-2 font-medium">Text HOME to 741741</p>
<p class="text-gray-600 dark:text-gray-400 text-xs md:text-sm font-light">Free, 24/7 crisis support via text message</p>
</div>
<div class="glass-morphism p-4 md:p-6 rounded-xl">
<h4 class="gradient-text font-bold mb-2 text-base md:text-lg font-['Space_Grotesk']">üá∫üá∏ National Suicide Prevention Lifeline</h4>
<p class="text-gray-700 dark:text-gray-300 text-sm md:text-base mb-2 font-medium">Call 988</p>
<p class="text-gray-600 dark:text-gray-400 text-xs md:text-sm font-light">Free, confidential support 24/7</p>
</div>
<div class="glass-morphism p-4 md:p-6 rounded-xl">
<h4 class="gradient-text font-bold mb-2 text-base md:text-lg font-['Space_Grotesk']">üåç International Resources</h4>
<p class="text-gray-600 dark:text-gray-400 text-xs md:text-sm font-light">Visit findahelpline.com for resources in your country</p>
</div>
</div>
<div class="text-center">
<button id="closeCrisisModal" class="btn-gradient text-white px-8 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 font-['Space_Grotesk'] tracking-wide">
Close
</button>
</div>
</div>
</div>

<script>
// App State
let conversationHistory = [];

// DOM Elements
const welcomeScreen = document.getElementById('welcomeScreen');
const chatInterface = document.getElementById('chatInterface');
const chatMessages = document.getElementById('chatMessages');
const messageInput = document.getElementById('messageInput');
const sendBtn = document.getElementById('sendBtn');
const startChat = document.getElementById('startChat');
const homeLink = document.getElementById('homeLink');

// System prompt for the AI
const systemPrompt = `You are FeTherapy, an AI mental health companion designed by and for Gen Z. You are compassionate, sensitive, and caring like a therapist, but speak authentically to teens/young adults. You:

- Validate emotions deeply and without judgment
- Use warm, empathetic language that shows you truly care
- Offer gentle, practical coping strategies
- Ask thoughtful follow-up questions to understand better
- Recognize when someone might need professional help
- Create a safe, supportive space for vulnerable sharing
- Keep responses brief (50-80 words) unless the situation requires more depth
- Use occasional emojis naturally but not excessively

If someone expresses thoughts of self-harm or suicide, respond with deep care and gently encourage reaching out to crisis support (988 in US) while staying present with them.

Prioritize being present, caring, and emotionally attuned over giving advice. Listen first, validate always.`;

// Event Listeners
startChat.addEventListener('click', () => {
welcomeScreen.classList.add('hidden');
chatInterface.classList.remove('hidden');
addMessage('ai', "Hey there! üëã I'm really glad you're here. What's been on your mind lately? You can share anything - big or small, I'm here to listen.");
messageInput.focus();
});

sendBtn.addEventListener('click', sendMessage);
messageInput.addEventListener('keypress', (e) => {
if (e.key === 'Enter' && !e.shiftKey) {
e.preventDefault();
sendMessage();
}
});

// Home link functionality
homeLink.addEventListener('click', () => {
chatInterface.classList.add('hidden');
featuresPanel.classList.add('hidden');
welcomeScreen.classList.remove('hidden');
});

function addMessage(sender, text) {
const messageDiv = document.createElement('div');
messageDiv.className = `chat-message flex ${sender === 'user' ? 'justify-end' : 'justify-start'} mb-6`;

const messageBubble = document.createElement('div');
messageBubble.className = `max-w-xs lg:max-w-md px-6 py-4 rounded-2xl leading-relaxed text-base font-light ${
sender === 'user'
? 'btn-gradient text-white font-medium shadow-lg'
: 'glass-morphism-strong text-primary dark:text-surfaceLight border border-accent/10'
}`;
messageBubble.textContent = text;

messageDiv.appendChild(messageBubble);
chatMessages.appendChild(messageDiv);
chatMessages.scrollTop = chatMessages.scrollHeight;
}

function addTypingIndicator() {
const typingDiv = document.createElement('div');
typingDiv.id = 'typing';
typingDiv.className = 'chat-message flex justify-start mb-6';
typingDiv.innerHTML = `
<div class="max-w-xs lg:max-w-md px-6 py-4 rounded-2xl glass-morphism-strong text-primary dark:text-surfaceLight border border-accent/10">
<div class="flex items-center space-x-2">
<div class="w-2 h-2 bg-accent rounded-full animate-bounce"></div>
<div class="w-2 h-2 bg-accent rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
<div class="w-2 h-2 bg-accent rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
<span class="ml-2 gradient-text-alt font-medium">FeTherapy is typing...</span>
</div>
</div>
`;
chatMessages.appendChild(typingDiv);
chatMessages.scrollTop = chatMessages.scrollHeight;
}

function removeTypingIndicator() {
const typing = document.getElementById('typing');
if (typing) typing.remove();
}

async function sendMessage() {
const message = messageInput.value.trim();
if (!message) return;

// Disable input while processing
messageInput.disabled = true;
sendBtn.disabled = true;

// Add user message
addMessage('user', message);
messageInput.value = '';

// Get AI response
await getAIResponse(message);

// Re-enable input
messageInput.disabled = false;
sendBtn.disabled = false;
messageInput.focus();
}

async function getAIResponse(userMessage) {
addTypingIndicator();

try {
const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'X-goog-api-key': 'AIzaSyA-IivrFJxy1fdAa47uyBQfXOEASlolFJY'
},
body: JSON.stringify({
contents: [
{
parts: [
{
text: `${systemPrompt}\n\nUser: ${userMessage}\n\nAI:`
}
]
}
]
})
});

if (!response.ok) {
throw new Error(`HTTP error! status: ${response.status}`);
}

const data = await response.json();
removeTypingIndicator();

if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts) {
const aiResponse = data.candidates[0].content.parts[0].text;
addMessage('ai', aiResponse);

// Add to conversation history
conversationHistory.push({ role: 'user', content: userMessage });
conversationHistory.push({ role: 'ai', content: aiResponse });

// Keep conversation history manageable
if (conversationHistory.length > 20) {
conversationHistory = conversationHistory.slice(-16);
}
} else {
addMessage('ai', "I'm having trouble connecting right now. Can you try again? I'm still here for you. üíô");
}

} catch (error) {
console.error('Error:', error);
removeTypingIndicator();
addMessage('ai', "I'm having trouble connecting right now. Can you try again? I'm still here for you. üíô");
}
}

// Features Panel Navigation
const featuresBtn = document.getElementById('featuresBtn');
const featuresPanel = document.getElementById('featuresPanel');
const backToChat = document.getElementById('backToChat');

featuresBtn.addEventListener('click', () => {
chatInterface.classList.add('hidden');
welcomeScreen.classList.add('hidden');
featuresPanel.classList.remove('hidden');
});

backToChat.addEventListener('click', () => {
featuresPanel.classList.add('hidden');
if (conversationHistory.length > 0) {
chatInterface.classList.remove('hidden');
} else {
welcomeScreen.classList.remove('hidden');
}
});

// Breathing Exercise
const breathingBtn = document.getElementById('breathingBtn');
const breathingModal = document.getElementById('breathingModal');
const closeBreathingModal = document.getElementById('closeBreathingModal');
const startBreathing = document.getElementById('startBreathing');
const stopBreathing = document.getElementById('stopBreathing');
const breathingCircle = document.getElementById('breathingCircle');
const breathingText = document.getElementById('breathingText');

let breathingInterval;
let breathingActive = false;

breathingBtn.addEventListener('click', () => {
breathingModal.classList.remove('hidden');
});

closeBreathingModal.addEventListener('click', () => {
stopBreathingExercise();
breathingModal.classList.add('hidden');
});

startBreathing.addEventListener('click', () => {
if (!breathingActive) {
startBreathingExercise();
}
});

stopBreathing.addEventListener('click', () => {
stopBreathingExercise();
});

function startBreathingExercise() {
breathingActive = true;
let phase = 'inhale';
let count = 0;

breathingInterval = setInterval(() => {
if (phase === 'inhale') {
breathingText.textContent = `Breathe in... ${4 - count}`;
breathingCircle.style.transform = 'scale(1.4)';
breathingCircle.style.borderColor = '#D4AF37';
count++;
if (count >= 4) {
phase = 'hold';
count = 0;
}
} else if (phase === 'hold') {
breathingText.textContent = `Hold... ${4 - count}`;
breathingCircle.style.borderColor = '#8B7355';
count++;
if (count >= 4) {
phase = 'exhale';
count = 0;
}
} else if (phase === 'exhale') {
breathingText.textContent = `Breathe out... ${4 - count}`;
breathingCircle.style.transform = 'scale(1)';
breathingCircle.style.borderColor = '#D4AF37';
count++;
if (count >= 4) {
phase = 'inhale';
count = 0;
}
}
}, 1000);
}

function stopBreathingExercise() {
if (breathingInterval) {
clearInterval(breathingInterval);
breathingInterval = null;
}
breathingActive = false;
breathingText.textContent = 'Press start to begin';
breathingCircle.style.transform = 'scale(1)';
breathingCircle.style.borderColor = 'rgba(212, 175, 55, 0.3)';
}

// Crisis Resources
const crisisBtn = document.getElementById('crisisBtn');
const crisisModal = document.getElementById('crisisModal');
const closeCrisisModal = document.getElementById('closeCrisisModal');

crisisBtn.addEventListener('click', () => {
crisisModal.classList.remove('hidden');
});

closeCrisisModal.addEventListener('click', () => {
crisisModal.classList.add('hidden');
});

// Journal Prompts
const journalBtn = document.getElementById('journalBtn');
const journalPrompts = [
"What are three things you're grateful for today?",
"Describe how you're feeling right now, without judgment.",
"What's one small thing that brought you joy recently?",
"If you could tell your past self one thing, what would it be?",
"What does self-care look like for you today?",
"Write about a time when you felt truly understood.",
"What are you looking forward to?",
"What's been weighing on your mind lately?",
"Describe your ideal day.",
"What's one thing you've learned about yourself recently?"
];

journalBtn.addEventListener('click', () => {
const randomPrompt = journalPrompts[Math.floor(Math.random() * journalPrompts.length)];

if (!chatInterface.classList.contains('hidden')) {
addMessage('ai', `Here's a journal prompt for you: ${randomPrompt} ‚ú®`);
} else {
showPromptModal('Journal Prompt', randomPrompt, 'Got it! ‚úçÔ∏è');
}
});

// Coping Strategies
const copingBtn = document.getElementById('copingBtn');
const copingStrategies = [
"Take 5 deep breaths, focusing only on your breathing.",
"Name 5 things you can see, 4 you can touch, 3 you can hear, 2 you can smell, 1 you can taste.",
"Write down your thoughts without editing or judging them.",
"Listen to a song that makes you feel calm or happy.",
"Step outside for a few minutes and feel the fresh air.",
"Do some gentle stretching or movement.",
"Call or text someone you trust.",
"Drink a glass of water slowly and mindfully.",
"Look at photos that bring you good memories.",
"Practice self-compassion by speaking to yourself like you would a good friend."
];

copingBtn.addEventListener('click', () => {
const randomStrategy = copingStrategies[Math.floor(Math.random() * copingStrategies.length)];

if (!chatInterface.classList.contains('hidden')) {
addMessage('ai', `Here's a coping strategy you can try: ${randomStrategy} üíô`);
} else {
showPromptModal('Coping Strategy', randomStrategy, "I'll try this üí™");
}
});

function showPromptModal(title, content, buttonText) {
const modalDiv = document.createElement('div');
modalDiv.className = 'fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50';
modalDiv.innerHTML = `
<div class="glass-morphism-strong rounded-2xl p-6 md:p-8 max-w-md w-full text-center animate-scale-in fancy-border">
<h3 class="text-xl md:text-2xl font-bold gradient-text mb-6 font-['Playfair_Display'] tracking-wide">${title}</h3>
<p class="text-gray-700 dark:text-gray-300 mb-8 leading-relaxed font-light">${content}</p>
<button class="btn-gradient text-white px-8 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 font-['Space_Grotesk'] tracking-wide" onclick="this.parentElement.parentElement.remove()">
${buttonText}
</button>
</div>
`;
document.body.appendChild(modalDiv);
}

// Initialize dark mode support
if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
document.documentElement.classList.add('dark');
}
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
if (event.matches) {
document.documentElement.classList.add('dark');
} else {
document.documentElement.classList.remove('dark');
}
});
</script>

</body>
</html>
